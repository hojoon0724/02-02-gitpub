// -----------------------------------------------------
// Dependencies
// -----------------------------------------------------
const express = require("express");
const drinks = require("./models/drinks.js");

// -----------------------------------------------------
// Application Object
// -----------------------------------------------------
const app = express();

// -----------------------------------------------------
// Middleware
// -----------------------------------------------------

// -----------------------------------------------------
// Routes
// -----------------------------------------------------

// -----------------------------------------------------
// GET requests
// -----------------------------------------------------
app.get("/", (req, res) => {
  res.send(`This is Gitpub App`);
});

app.get("/drinks", (req, res) => {
  res.render("index.ejs", { drinks });
});

app.get("/drinks/:indexNumber", (req, res) => {
  res.render("show.ejs", { drinks: drinks[req.params.indexNumber] });
});

// -----------------------------------------------------
// Listener
// -----------------------------------------------------
app.listen(3000, () => {
  console.log(`listening in port 3000`);
});
